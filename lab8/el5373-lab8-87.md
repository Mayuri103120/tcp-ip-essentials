## HTTP exercises

> **Note**: the instructions in this section assume that you have set up your resources as described in the "Basic home gateway services: DHCP, DNS, NAT" section, and specifically, that your client nodes have Internet access via the NAT on the gateway node. If you are not completing these steps in sequence - for example, if you lost access to your previous resources, deleted them, and got new ones for this section of the experiment - you will need to re-configure them so that the client nodes will access the Internet through the gateway node.


Review the slice details in the GENI Portal and find the hostname assigned to the "website" host. For example, in the following screenshot, the hostname is `website.nat.ch-geni-net.instageni.research.umich.edu`:

![](https://witestlab.poly.edu/blog/content/images/2017/03/gateway-hostname.png)

### Exercise: send an HTTP request with telnet


In this exercise, we will use `telnet` to manually write and send an HTTP request, and observe the response from the HTTP server.

While

```
sudo tcpdump -i eth1 -w http-$(hostname -s).pcap
```

is running on the "gateway", run

```
telnet website.nat.ch-geni-net.instageni.research.umich.edu 80
```

on a "client" node, but substitue the hostname of your own "website" host. You should see the following indication of a successful connection:

```
Trying 199.109.64.53...
Connected to pcvm2-3.instageni.nysernet.org.
Escape character is '^]'.
```

(but with a different address and hostname.)

At the console, type the following HTTP request line by line:

```
GET /index.html HTTP/1.0
From: guest@client
User-Agent: HTTPTool/1.0

```

Note that you need to type "Enter" to input the last line, which is blank, and then "Enter" again to send it.

When the `telnet` process is terminated, save the output for your lab report. Identify the HTTP response header, and the HTML file sent from the HTTP server.

Terminate `tcpdump` and transfer the packet capture to your laptop with `scp`. Analyze the captured HTTP packets. 

**Lab report**: Show the HTTP request and response headers.
